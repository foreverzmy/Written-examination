<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
 </head>
 <body>
  <script>
    var str="helloworld";
    //统计每种字符出现的次数
    function calc(str){
      //遍历字符串中每个字符，同时声明hash数组
      for(var i=0,hash={};i<str.length;i++){
        //如果hash中已经包含当前字符
        if(hash[str[i]]!==undefined){
          //就给hash中当前字符的数量+1
          hash[str[i]]++;
        }else{//否则
          //就向hash中添加新元素key为当前字符，值为1
          hash[str[i]]=1;
        }
      }
      return hash;
    }
    console.dir(calc(str));
    //获得出现次数最多的元素，并统计出现多少次
    function getMost(str){
      var most=str.split("").sort().join("")
                .match(/([a-z])\1*/g)
                .sort(function(a,b){
                  return b.length-a.length
                })[0];
      console.log(
        "出现最多的字符是"+most[0]+
        ",次数"+most.length);
    }
    console.log(getMost(str));
  </script>
 </body>
</html>
